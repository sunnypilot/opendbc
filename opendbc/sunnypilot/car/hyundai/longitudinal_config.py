from dataclasses import dataclass

from opendbc.car import structs
from opendbc.car.hyundai.values import CAR, HyundaiFlags
from opendbc.car.interfaces import CarControllerBase


@dataclass
class CarTuningConfig:
  vego_stopping: float
  vego_starting: float
  stopping_decel_rate: float
  start_accel: float
  jerk_limits: tuple[float, float]  # (lower, upper)
  brake_response: tuple[float, float, float, float]
  accel_limits: tuple[float, float]  # (min, max)

# Default configurations for different car types
TUNING_CONFIGS = {
  "EV": CarTuningConfig(
    vego_stopping=0.15,
    vego_starting=0.12,
    stopping_decel_rate=0.25,
    start_accel=1.6,
    jerk_limits=(0.75, 5.0),
    brake_response=(1.2, 1.8, 2.75, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  "HYBRID": CarTuningConfig(
    vego_stopping=0.2,
    vego_starting=0.12,
    stopping_decel_rate=0.25,
    start_accel=1.5,
    jerk_limits=(0.75, 4.0),
    brake_response=(1.2, 1.8, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  "ICE": CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.1,
    stopping_decel_rate=0.3,
    start_accel=1.6,
    jerk_limits=(0.75, 5.0),
    brake_response=(1.2, 1.8, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
}

# Car-specific configurations overriding the defaults
CAR_SPECIFIC_CONFIGS = {
  CAR.HYUNDAI_IONIQ_5: CarTuningConfig(
    vego_stopping=0.15,
    vego_starting=0.12,
    stopping_decel_rate=0.25,
    start_accel=1.6,
    jerk_limits=(1.0, 5.0),
    brake_response=(1.25, 1.8, 2.55, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_IONIQ_6: CarTuningConfig(
    vego_stopping=0.15,
    vego_starting=0.15,
    stopping_decel_rate=0.25,
    start_accel=1.6,
    jerk_limits=(0.75, 3.5),
    brake_response=(1.0, 1.25, 2.0, 3.5),
    accel_limits=(-3.5, 1.5),
  ),
  CAR.HYUNDAI_KONA_EV: CarTuningConfig(
    vego_stopping=0.2,
    vego_starting=0.1,
    stopping_decel_rate=0.25,
    start_accel=1.6,
    jerk_limits=(1.5, 5.0),
    brake_response=(1.0, 1.85, 2.75, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_KONA_EV_2022: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.1,
    stopping_decel_rate=0.25,
    start_accel=1.6,
    jerk_limits=(0.75, 5.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_KONA_EV_2ND_GEN: CarTuningConfig(
    vego_stopping=0.15,
    vego_starting=0.15,
    stopping_decel_rate=0.25,
    start_accel=1.6,
    jerk_limits=(0.75, 3.5),
    brake_response=(1.0, 1.25, 2.0, 3.5),
    accel_limits=(-3.5, 1.5),
  ),
  CAR.HYUNDAI_IONIQ_EV_LTD: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.1,
    stopping_decel_rate=0.25,
    start_accel=1.6,
    jerk_limits=(0.75, 5.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_IONIQ_EV_2020: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.1,
    stopping_decel_rate=0.25,
    start_accel=1.6,
    jerk_limits=(0.75, 5.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_AZERA_HEV_6TH_GEN: CarTuningConfig(
    vego_stopping=0.2,
    vego_starting=0.12,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 3.5),
    brake_response=(1.2, 1.8, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_SONATA_HYBRID: CarTuningConfig(
    vego_stopping=0.2,
    vego_starting=0.12,
    stopping_decel_rate=0.25,
    start_accel=1.6,
    jerk_limits=(0.75, 5.0),
    brake_response=(1.2, 1.8, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_ELANTRA_HEV_2021: CarTuningConfig(
    vego_stopping=0.2,
    vego_starting=0.12,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 3.5),
    brake_response=(1.2, 1.8, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_IONIQ: CarTuningConfig(
    vego_stopping=0.2,
    vego_starting=0.12,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 3.5),
    brake_response=(1.2, 1.8, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_IONIQ_HEV_2022: CarTuningConfig(
    vego_stopping=0.2,
    vego_starting=0.12,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 3.5),
    brake_response=(1.2, 1.8, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_IONIQ_PHEV_2019: CarTuningConfig(
    vego_stopping=0.2,
    vego_starting=0.12,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 3.5),
    brake_response=(1.2, 1.8, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_IONIQ_PHEV: CarTuningConfig(
    vego_stopping=0.2,
    vego_starting=0.12,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 3.5),
    brake_response=(1.2, 1.8, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_KONA_HEV: CarTuningConfig(
    vego_stopping=0.2,
    vego_starting=0.12,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 3.5),
    brake_response=(1.2, 1.8, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_SANTA_FE_HEV_2022: CarTuningConfig(
    vego_stopping=0.2,
    vego_starting=0.12,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 3.5),
    brake_response=(1.2, 1.8, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_SANTA_FE_PHEV_2022: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.15,
    stopping_decel_rate=0.25,
    start_accel=1.6,
    jerk_limits=(0.75, 5.0),
    brake_response=(1.5, 2.0, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_GENESIS: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.15,
    stopping_decel_rate=0.25,
    start_accel=1.6,
    jerk_limits=(0.75, 5.0),
    brake_response=(1.5, 2.0, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_ELANTRA_2021: CarTuningConfig(
    vego_stopping=0.20,
    vego_starting=0.10,
    stopping_decel_rate=0.30,
    start_accel=1.6,
    jerk_limits=(1.0, 5.0),
    brake_response=(1.5, 2.2, 2.4, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_SONATA: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.15,
    stopping_decel_rate=0.25,
    start_accel=1.6,
    jerk_limits=(0.75, 5.0),
    brake_response=(1.5, 2.0, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_VELOSTER: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.15,
    stopping_decel_rate=0.25,
    start_accel=1.6,
    jerk_limits=(0.75, 5.0),
    brake_response=(1.5, 2.0, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_AZERA_6TH_GEN: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.1,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 4.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_CUSTIN_1ST_GEN: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.1,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 4.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_ELANTRA: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.1,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 4.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_ELANTRA_GT_I30: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.1,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 4.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_KONA: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.1,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 4.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_SANTA_CRUZ_1ST_GEN: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.1,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 4.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_SANTA_FE: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.1,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 4.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_SANTA_FE_2022: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.1,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 4.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_SONATA_LF: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.1,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 4.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_STARIA_4TH_GEN: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.1,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 4.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.HYUNDAI_PALISADE: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.1,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 4.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.KIA_EV6: CarTuningConfig(
    vego_stopping=0.15,
    vego_starting=0.15,
    stopping_decel_rate=0.25,
    start_accel=1.6,
    jerk_limits=(1.0, 5.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.KIA_NIRO_EV: CarTuningConfig(
    vego_stopping=0.15,
    vego_starting=0.12,
    stopping_decel_rate=0.2,
    start_accel=1.0,
    jerk_limits=(0.75, 5.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 1.5),
  ),
  CAR.KIA_NIRO_EV_2ND_GEN: CarTuningConfig(
    vego_stopping=0.15,
    vego_starting=0.15,
    stopping_decel_rate=0.2,
    start_accel=1.6,
    jerk_limits=(0.75, 5.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.KIA_K5_HEV_2020: CarTuningConfig(
    vego_stopping=0.2,
    vego_starting=0.12,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 3.5),
    brake_response=(1.2, 1.5, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.KIA_K8_HEV_1ST_GEN: CarTuningConfig(
    vego_stopping=0.2,
    vego_starting=0.12,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 3.5),
    brake_response=(1.2, 1.8, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.KIA_NIRO_HEV_2021: CarTuningConfig(
    vego_stopping=0.2,
    vego_starting=0.12,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 5.0),
    brake_response=(1.2, 1.8, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.KIA_NIRO_HEV_2ND_GEN: CarTuningConfig(
    vego_stopping=0.2,
    vego_starting=0.12,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 4.5),
    brake_response=(1.2, 1.8, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.KIA_NIRO_PHEV: CarTuningConfig(
    vego_stopping=0.1,
    vego_starting=0.12,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 4.5),
    brake_response=(1.2, 1.8, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.KIA_NIRO_PHEV_2022: CarTuningConfig(
    vego_stopping=0.1,
    vego_starting=0.12,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 4.5),
    brake_response=(1.2, 1.8, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.KIA_OPTIMA_H: CarTuningConfig(
    vego_stopping=0.2,
    vego_starting=0.12,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 3.5),
    brake_response=(1.2, 1.8, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.KIA_OPTIMA_H_G4_FL: CarTuningConfig(
    vego_stopping=0.2,
    vego_starting=0.12,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 3.5),
    brake_response=(1.2, 1.8, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.KIA_SORENTO_HEV_4TH_GEN: CarTuningConfig(
    vego_stopping=0.2,
    vego_starting=0.12,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 3.5),
    brake_response=(1.2, 1.8, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.KIA_STINGER: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.15,
    stopping_decel_rate=0.25,
    start_accel=1.6,
    jerk_limits=(0.75, 5.0),
    brake_response=(1.5, 2.0, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.KIA_STINGER_2022: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.15,
    stopping_decel_rate=0.25,
    start_accel=1.6,
    jerk_limits=(0.75, 5.0),
    brake_response=(1.5, 2.0, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.KIA_K5_2021: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.15,
    stopping_decel_rate=0.25,
    start_accel=1.6,
    jerk_limits=(0.75, 5.0),
    brake_response=(1.5, 2.0, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.KIA_CEED: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.1,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 4.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.KIA_FORTE: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.1,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 4.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.KIA_OPTIMA_G4: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.1,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 4.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.KIA_OPTIMA_G4_FL: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.1,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 4.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.KIA_SELTOS: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.1,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 4.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.KIA_SPORTAGE_5TH_GEN: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.1,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 4.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.KIA_SORENTO: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.1,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 4.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.KIA_SORENTO_4TH_GEN: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.1,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 4.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.KIA_CARNIVAL_4TH_GEN: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.1,
    stopping_decel_rate=0.25,
    start_accel=1.0,
    jerk_limits=(0.75, 4.0),
    brake_response=(1.0, 1.5, 2.25, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.GENESIS_GV60_EV_1ST_GEN: CarTuningConfig(
    vego_stopping=0.15,
    vego_starting=0.15,
    stopping_decel_rate=0.25,
    start_accel=1.6,
    jerk_limits=(0.75, 3.5),
    brake_response=(1.0, 1.25, 2.0, 3.5),
    accel_limits=(-3.5, 1.5),
  ),
  CAR.GENESIS_G70: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.15,
    stopping_decel_rate=0.25,
    start_accel=1.6,
    jerk_limits=(0.75, 5.0),
    brake_response=(1.5, 2.0, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.GENESIS_G70_2020: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.15,
    stopping_decel_rate=0.25,
    start_accel=1.6,
    jerk_limits=(0.75, 5.0),
    brake_response=(1.5, 2.0, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.GENESIS_G80: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.15,
    stopping_decel_rate=0.25,
    start_accel=1.6,
    jerk_limits=(0.75, 5.0),
    brake_response=(1.5, 2.0, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.GENESIS_G80_2ND_GEN_FL: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.15,
    stopping_decel_rate=0.25,
    start_accel=1.6,
    jerk_limits=(0.75, 5.0),
    brake_response=(1.5, 2.0, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.GENESIS_G90: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.15,
    stopping_decel_rate=0.25,
    start_accel=1.6,
    jerk_limits=(0.75, 5.0),
    brake_response=(1.5, 2.0, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.GENESIS_GV70_1ST_GEN: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.15,
    stopping_decel_rate=0.25,
    start_accel=1.6,
    jerk_limits=(0.75, 5.0),
    brake_response=(1.5, 2.0, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
  CAR.GENESIS_GV80: CarTuningConfig(
    vego_stopping=0.25,
    vego_starting=0.15,
    stopping_decel_rate=0.25,
    start_accel=1.6,
    jerk_limits=(0.75, 5.0),
    brake_response=(1.5, 2.0, 2.5, 3.5),
    accel_limits=(-3.5, 2.0),
  ),
}
class Cartuning(CarControllerBase):
  def __init__(self, dbc_names, CP, CP_SP):
    CarControllerBase.__init__(self, dbc_names, CP, CP_SP)

  @staticmethod
  def get_car_config(CP: structs.CarParams) -> CarTuningConfig:
    # Get car type flags from specific configs or determine from car flags
    car_config = CAR_SPECIFIC_CONFIGS.get(CP.carFingerprint)

    # If car is not in specific configs, determine from flags
    if car_config is None:
      if CP.flags & HyundaiFlags.EV:
        car_config = TUNING_CONFIGS["EV"]
      elif CP.flags & HyundaiFlags.HYBRID:
        car_config = TUNING_CONFIGS["HYBRID"]
      else:
        car_config = TUNING_CONFIGS["ICE"]

    return car_config
